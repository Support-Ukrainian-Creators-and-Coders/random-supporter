<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Support a random ukrainian developer! This website interacts with a google spreadsheet of ukrainian developers, you can click a button and go to the GitHub of a random ukrainian dev, then support as much as you can (follow, star, donate, stream content, etc.)">
    <meta name="keywords" content="Ukraine, Ukrainian, Devs, Developers, Support, Donate, Supporter, Relief, GitHub, Follow, Donor, Creators, Putin, War">
    <meta name="author" content="Matteo Fordiani">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property='og:title' content='Support a Random Ukrainian Dev'/>
    <meta property='og:image' content='https://ibb.co/gDQ3CZf'/>
    <meta property='og:description' content='Support a random ukrainian developer! This website interacts with a google spreadsheet of ukrainian developers, you can click a button and go to the GitHub of a random ukrainian dev, then support as much as you can (follow, star, donate, stream content, etc.)'/>
    <meta property='og:url' content='https://support-ukrainian-creators-and-coders.github.io/random-supporter/'/>
    <meta property='og:image:width' content='1200' />
    <meta property='og:image:height' content='627' />
    <meta property="og:type" content='website'/>
    <title>Support a Random Ukrainian Developer</title>
    <link rel="icon" 
      type="image/png" 
      href="favicon.ico">
    <link rel="stylesheet" 
      href="diigo/css/style.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        .main-container {
            align-items: center;
            justify-content: center;
            display: flex;
            flex-direction: column;
            vertical-align: middle;
            margin-top: 10rem;
        }

        
        .big-button {
            font-size: 26px;
            padding: 20px;
            border-radius: 10px;
        }

        footer {
          margin-top: 20px;
        }

        .octocat {
          height: 60px;
          width: auto;
        }

        .octocat:hover{
          animation: bounce; 
          animation-duration: 1s; 
        }
        .lead-text {
          text-align: center;
        }
        .secondary-text {
          text-align: center;
        }

        .last-paragraph {
          padding-bottom: 1rem;
        }
        .footer-link {
          align-self: center
        }

        .bouncy-link:hover {
          animation: headShake; 
          animation-duration: 2s; 
        }

        .big-button:hover > .support-emoji {
          animation: shakeY; 
          animation-duration: 2s; 
        }

        .support-emoji {
          display: inline-block; 
        }



    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js" integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript">
      /*
      * Version
      */
      const version = "1.0.1";
      /*
      * Init cycle to get cookie with already visited devs, check if api version has changed and in case delete cookies
      */
      let alreadySupported;
      (function () {

        let previousVersion = getCookie('api-version');
        
        if (version != previousVersion) {
          console.log('Version changed from ' + previousVersion + ' to ' + version);
          eraseCookie('already-supported');
        }

        setCookie('api-version', version, 7);
        
        alreadySupported = getCookie('already-supported') ? new Set(getCookie('already-supported').split(',')) : new Set();
        
      })();

      /*
      * Custom Functions
      */
      function supportRandomDev(){ var url = "https://gsx2json.com/api?id=1mmG25XY0vd8DIGvg6pASx3E-MoOGscU2yCMealPq4RM&sheet=Sheet1"; fetch(url).then(data => data.json()).then( function( data ) { if(alreadySupported.length >= data.rows.length) {alreadySupported = new Set();} let dev = getRandomElement(data.rows); if (dev.profile && !alreadySupported.has(dev.profile)) { alreadySupported.add(dev.profile); setCookie('already-supported', [...alreadySupported].join(), 7); openInNewTab(dev.profile); return; } else { supportRandomDev(); } }); }
      function getRandomInt(max) { return Math.floor(Math.random() * max); }
      function getRandomElement(array) { return array[getRandomIntCrypto(array.length)]}
      function openInNewTab(url) { window.open(url, '_blank').focus();}

      function getRandomIntCrypto(maxValue) {
        maxValue = maxValue - 1;
        var arr = new Uint32Array(2);
        crypto.getRandomValues(arr);
        var multiplier = 0;
        (arr[0] > arr[1]) ? multiplier = arr[1] / arr[0] :  multiplier = arr[0] / arr[1];
        return (Math.round(multiplier * maxValue));
      }
      
      /*
      * Cookie utils
      */
      function setCookie(name,value,days) {
        var expires = "";
        if (days) {
          var date = new Date();
          date.setTime(date.getTime() + (days*24*60*60*1000));
          expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "")  + expires + "; path=/";
      }
      function getCookie(name) {
          var nameEQ = name + "=";
          var ca = document.cookie.split(';');
          for(var i=0;i < ca.length;i++) {
              var c = ca[i];
              while (c.charAt(0)==' ') c = c.substring(1,c.length);
              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
          }
          return null;
      }
      function eraseCookie(name) {   
          document.cookie = name +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
      }       
    </script>
</head>
<body>
    <div class="main-container">
        <img class="flag-medium" src="ua.png" alt="">
        <header>
            <h1 class="lead-text">
              Support a random ukrainian developer!
            </h1>
            <p class="secondary-text">
              Donate, follow, star their projects, make a (generous) job offer, arrange refuge, stream their content or just show some love.
            </p>
            <p class="secondary-text last-paragraph">
              We have enough reasons to believe almost each person in this list is in immediate danger and needs urgent relief.
            </p>
        </header>
        <div>
            <button class="big-button" onclick='var url = "https://gsx2json.com/api?id=1mmG25XY0vd8DIGvg6pASx3E-MoOGscU2yCMealPq4RM&sheet=Sheet1"; fetch(url).then(data => data.json()).then( function( data ) { if(alreadySupported.length >= data.rows.length) {alreadySupported = new Set();} let dev = getRandomElement(data.rows); if (dev.profile && !alreadySupported.has(dev.profile)) { alreadySupported.add(dev.profile); setCookie("already-supported", [...alreadySupported].join(), 7); openInNewTab(dev.profile); return; } else { supportRandomDev(); } });'>Support <div class="support-emoji">ðŸ™Œ</div></button>
        </div>
        <footer  style="display: flex"> 
            <a class="footer-link bouncy-link" href="https://docs.google.com/spreadsheets/d/1mmG25XY0vd8DIGvg6pASx3E-MoOGscU2yCMealPq4RM/edit#gid=0">ðŸš©Source Data</a>
            <a href="https://github.com/Support-Ukrainian-Creators-and-Coders/ukrainian-creators-and-coders"><img class="octocat" src="Octocat.png" alt=""></a>
            <a class="footer-link bouncy-link" href="mailto:stopitvladimir@gmail.com">ðŸ“§Contact us</a>
        </footer>
    </div>
  </body>
</html>